import{c as e,o as t,s as n}from"./index-Cw0djeJR.js";var r=e(n(),1),i=e(t(),1);function a(){let[e,t]=(0,r.useState)({nome:``,email:``,messaggio:``}),[n,a]=(0,r.useState)(!1),[o,s]=(0,r.useState)(`idle`),[c,l]=(0,r.useState)(0),[u,d]=(0,r.useState)(window.innerWidth);(0,r.useEffect)(()=>{let e=()=>d(window.innerWidth);return window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]);let f=n=>{let{name:r,value:i}=n.target;t(e=>({...e,[r]:i}));let a=[`nome`,`email`,`messaggio`],o=a.filter(t=>t===r?i.trim()!==``:e[t].trim()!==``).length;l(o/a.length*100)},p=async e=>{e.preventDefault(),a(!0),s(`idle`),l(0);try{let e=[25,50,75];for(let t=0;t<e.length;t++)await new Promise(e=>setTimeout(e,200)),l(e[t]);await new Promise(e=>setTimeout(e,500)),l(100),await new Promise(e=>setTimeout(e,300)),a(!1),s(`success`),setTimeout(()=>{t({nome:``,email:``,messaggio:``}),l(0),s(`idle`)},3e3)}catch(e){console.error(`Errore simulazione:`,e),a(!1),s(`error`),l(0),setTimeout(()=>{s(`idle`)},5e3)}},m=e.nome.trim()!==``&&e.email.trim()!==``&&e.messaggio.trim()!==``;return(0,i.jsxs)(`div`,{style:{padding:`clamp(15px, 3vw, 20px)`},children:[(0,i.jsx)(`h2`,{style:{marginTop:0,fontSize:`clamp(16px, 4vw, 18px)`,marginBottom:`20px`},children:`Form Contatti`}),(0,i.jsx)(`p`,{style:{fontSize:`clamp(11px, 2.5vw, 12px)`,color:`#666`,marginBottom:`16px`,fontStyle:`italic`,padding:`8px`,background:`#f0f0f0`,borderRadius:`4px`},children:`⚠️ Questo form è solo simulativo e non invia messaggi reali.`}),(0,i.jsxs)(`form`,{onSubmit:p,children:[(0,i.jsxs)(`fieldset`,{children:[(0,i.jsx)(`legend`,{children:`Informazioni`}),(0,i.jsxs)(`div`,{className:`group`,style:{marginBottom:`16px`},children:[(0,i.jsx)(`label`,{htmlFor:`nome`,style:{fontSize:`clamp(12px, 3vw, 13px)`},children:`Nome:`}),(0,i.jsx)(`input`,{type:`text`,id:`nome`,name:`nome`,value:e.nome,onChange:f,disabled:n,style:{width:`100%`,marginTop:`4px`,fontSize:`clamp(13px, 3.5vw, 14px)`,padding:`clamp(6px, 1.5vw, 8px)`}})]}),(0,i.jsxs)(`div`,{className:`group`,style:{marginBottom:`16px`},children:[(0,i.jsx)(`label`,{htmlFor:`email`,style:{fontSize:`clamp(12px, 3vw, 13px)`},children:`Email:`}),(0,i.jsx)(`input`,{type:`email`,id:`email`,name:`email`,value:e.email,onChange:f,disabled:n,style:{width:`100%`,marginTop:`4px`,fontSize:`clamp(13px, 3.5vw, 14px)`,padding:`clamp(6px, 1.5vw, 8px)`}})]}),(0,i.jsxs)(`div`,{className:`group`,style:{marginBottom:`16px`},children:[(0,i.jsx)(`label`,{htmlFor:`messaggio`,style:{fontSize:`clamp(12px, 3vw, 13px)`},children:`Messaggio:`}),(0,i.jsx)(`textarea`,{id:`messaggio`,name:`messaggio`,value:e.messaggio,onChange:f,disabled:n,rows:u<=480?4:5,style:{width:`100%`,marginTop:`4px`,resize:`vertical`,fontSize:`clamp(13px, 3.5vw, 14px)`,padding:`clamp(6px, 1.5vw, 8px)`}})]})]}),(0,i.jsxs)(`div`,{style:{marginBottom:`16px`},children:[(0,i.jsx)(`label`,{style:{display:`block`,marginBottom:`8px`,fontSize:`clamp(11px, 2.5vw, 12px)`},children:`Progresso compilazione:`}),(0,i.jsx)(`div`,{role:`progressbar`,"aria-valuenow":c,"aria-valuemin":0,"aria-valuemax":100,style:{width:`100%`},children:(0,i.jsx)(`div`,{style:{width:`${c}%`,height:`clamp(18px, 4vw, 20px)`}})}),(0,i.jsxs)(`div`,{style:{fontSize:`clamp(10px, 2.5vw, 11px)`,color:`#666`,marginTop:`4px`},children:[Math.round(c),`% completato`]})]}),n&&(0,i.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`16px`,padding:`clamp(10px, 2.5vw, 12px)`,background:`#f0f0f0`,borderRadius:`4px`},children:[(0,i.jsx)(`div`,{className:`spinner animate`,"aria-label":`Invio in corso...`,style:{width:`clamp(18px, 4vw, 20px)`,height:`clamp(18px, 4vw, 20px)`}}),(0,i.jsx)(`span`,{style:{fontSize:`clamp(11px, 2.5vw, 12px)`},children:`Invio in corso...`})]}),o===`success`&&(0,i.jsx)(`div`,{style:{padding:`12px`,background:`#d4edda`,border:`1px solid #c3e6cb`,borderRadius:`4px`,marginBottom:`16px`,color:`#155724`,fontSize:`12px`},children:`✓ Messaggio inviato con successo! (Simulazione)`}),o===`error`&&(0,i.jsx)(`div`,{style:{padding:`12px`,background:`#f8d7da`,border:`1px solid #f5c6cb`,borderRadius:`4px`,marginBottom:`16px`,color:`#721c24`,fontSize:`12px`},children:`✗ Errore nell'invio del messaggio. Riprova più tardi.`}),(0,i.jsxs)(`div`,{style:{display:`flex`,gap:`8px`,marginTop:`20px`},children:[(0,i.jsx)(`button`,{type:`submit`,disabled:!m||n,children:n?`Invio...`:`Invia`}),(0,i.jsx)(`button`,{type:`button`,onClick:()=>{t({nome:``,email:``,messaggio:``}),l(0),s(`idle`)},disabled:n,children:`Reset`})]})]})]})}export{a as default};