import{a as e,c as t,o as n,s as r}from"./index-DBVdNEwY.js";var i=t(r(),1),a=t(n(),1);function o({onClose:t,onMinimize:n,icon:r}){let[o,s]=(0,i.useState)(window.innerWidth),[c,l]=(0,i.useState)(!1),[u,d]=(0,i.useState)(0),[f,p]=(0,i.useState)([]),[m,h]=(0,i.useState)(!0),[g,_]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=()=>s(window.innerWidth);return window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]);let v=()=>{let e=[`Trojan.Generic.12345`,`Malware.Suspicious.File`,`Adware.Browser.Hijacker`,`Spyware.Keylogger`,`Ransomware.Encrypt`,`Virus.Worm.Spreader`,`Rootkit.System.Modifier`],t=[`Trojan`,`Malware`,`Adware`,`Spyware`,`Ransomware`,`Virus`,`Rootkit`],n=[`C:\\Windows\\System32\\temp\\`,`C:\\Users\\Documents\\`,`C:\\Program Files\\`,`C:\\Downloads\\`,`C:\\Temp\\`],r=[`low`,`medium`,`high`,`critical`],i=Math.floor(Math.random()*3),a=[];for(let o=0;o<i;o++)a.push({id:o,name:e[Math.floor(Math.random()*e.length)],type:t[Math.floor(Math.random()*t.length)],severity:r[Math.floor(Math.random()*r.length)],location:n[Math.floor(Math.random()*n.length)]});return a},y=async()=>{l(!0),d(0),p([]);for(let e=0;e<=100;e+=5)await new Promise(e=>setTimeout(e,100)),d(e);let e=v();p(e),h(e.length===0),_(new Date),l(!1)},b=()=>{f.length>0&&confirm(`Vuoi mettere in quarantena ${f.length} minaccia(e)?`)&&(p([]),h(!0))},x=e=>{switch(e){case`low`:return`#f39c12`;case`medium`:return`#e67e22`;case`high`:return`#e74c3c`;case`critical`:return`#c0392b`;default:return`#95a5a6`}},S=e=>{switch(e){case`low`:return`Bassa`;case`medium`:return`Media`;case`high`:return`Alta`;case`critical`:return`Critica`;default:return`Sconosciuta`}};return(0,a.jsx)(e,{title:`Anti-Virus - Protezione Sistema`,width:o<=480?Math.min(400,window.innerWidth-20):o<=768?Math.min(600,window.innerWidth-40):700,height:o<=480?Math.min(500,window.innerHeight-100):o<=768?Math.min(600,window.innerHeight-80):600,defaultPosition:{x:o<=480?10:o<=768?20:150,y:o<=480?10:o<=768?20:100},onClose:t,onMinimize:n,icon:r,children:(0,a.jsxs)(`div`,{style:{padding:o<=480?`10px`:`15px`,display:`flex`,flexDirection:`column`,height:`100%`,gap:`15px`},children:[(0,a.jsxs)(`div`,{style:{padding:`15px`,background:m?`#d4edda`:`#f8d7da`,border:`2px solid ${m?`#c3e6cb`:`#f5c6cb`}`,borderRadius:`4px`,display:`flex`,alignItems:`center`,gap:`15px`},children:[(0,a.jsx)(`div`,{style:{fontSize:o<=480?`32px`:`40px`},children:m?`âœ…`:`âš ï¸`}),(0,a.jsxs)(`div`,{style:{flex:1},children:[(0,a.jsx)(`h3`,{style:{margin:0,fontSize:o<=480?`16px`:`18px`,color:m?`#155724`:`#721c24`},children:m?`Sistema Protetto`:`Minacce Rilevate`}),(0,a.jsx)(`p`,{style:{margin:`5px 0 0 0`,fontSize:o<=480?`11px`:`12px`,color:m?`#155724`:`#721c24`},children:m?`Il tuo sistema Ã¨ sicuro e protetto`:`${f.length} minaccia(e) rilevata(e) - Azione richiesta`})]})]}),(0,a.jsxs)(`div`,{style:{display:`flex`,gap:`10px`,flexWrap:`wrap`},children:[(0,a.jsx)(`button`,{onClick:y,disabled:c,style:{flex:1,minWidth:`120px`},children:c?`Scansione in corso...`:`Avvia Scansione`}),f.length>0&&(0,a.jsx)(`button`,{onClick:b,style:{flex:1,minWidth:`120px`},children:`Metti in Quarantena`})]}),c&&(0,a.jsx)(`div`,{children:(0,a.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`12px`,marginBottom:`10px`,padding:`10px`,background:`#f0f0f0`,borderRadius:`4px`},children:[(0,a.jsx)(`div`,{className:`spinner animate`,"aria-label":`Scansione in corso...`,style:{width:o<=480?`20px`:`24px`,height:o<=480?`20px`:`24px`,flexShrink:0}}),(0,a.jsxs)(`div`,{style:{flex:1},children:[(0,a.jsxs)(`div`,{style:{marginBottom:`5px`,fontSize:o<=480?`11px`:`12px`,fontWeight:`bold`},children:[`Scansione in corso... `,u,`%`]}),(0,a.jsx)(`div`,{role:`progressbar`,"aria-valuenow":u,"aria-valuemin":0,"aria-valuemax":100,style:{width:`100%`},children:(0,a.jsx)(`div`,{style:{width:`${u}%`,height:o<=480?`18px`:`20px`}})})]})]})}),g&&!c&&(0,a.jsxs)(`div`,{style:{padding:`10px`,background:`#f0f0f0`,borderRadius:`4px`,fontSize:o<=480?`11px`:`12px`,color:`#666`},children:[`Ultima scansione: `,g.toLocaleString(`it-IT`)]}),f.length>0&&!c&&(0,a.jsxs)(`div`,{style:{flex:1,overflowY:`auto`,border:`1px solid #ccc`,borderRadius:`4px`,padding:`10px`},children:[(0,a.jsx)(`h4`,{style:{marginTop:0,marginBottom:`10px`,fontSize:o<=480?`14px`:`16px`},children:`Minacce Rilevate:`}),f.map(e=>(0,a.jsxs)(`div`,{style:{padding:`10px`,marginBottom:`8px`,background:`#fff`,border:`2px solid ${x(e.severity)}`,borderRadius:`4px`,fontSize:o<=480?`11px`:`12px`},children:[(0,a.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`5px`},children:[(0,a.jsx)(`strong`,{style:{color:x(e.severity)},children:e.name}),(0,a.jsx)(`span`,{style:{padding:`2px 8px`,background:x(e.severity),color:`#fff`,borderRadius:`3px`,fontSize:o<=480?`9px`:`10px`,fontWeight:`bold`},children:S(e.severity)})]}),(0,a.jsxs)(`div`,{style:{color:`#666`,fontSize:o<=480?`10px`:`11px`},children:[`Tipo: `,e.type,` â€¢ Posizione: `,e.location]})]},e.id))]}),f.length===0&&!c&&!g&&(0,a.jsxs)(`div`,{style:{flex:1,display:`flex`,alignItems:`center`,justifyContent:`center`,flexDirection:`column`,color:`#999`,fontSize:o<=480?`14px`:`16px`},children:[(0,a.jsx)(`div`,{style:{fontSize:o<=480?`48px`:`64px`,marginBottom:`10px`},children:`ðŸ›¡ï¸`}),(0,a.jsx)(`p`,{children:`Nessuna scansione effettuata`}),(0,a.jsx)(`p`,{style:{fontSize:o<=480?`11px`:`12px`,marginTop:`5px`},children:`Clicca su "Avvia Scansione" per verificare il sistema`})]})]})})}export{o as default};