import{a as e,c as t,o as n,s as r}from"./index-Cw0djeJR.js";var i=t(r(),1),a=t(n(),1);function o({onClose:t,onMinimize:n,icon:r}){let[o,s]=(0,i.useState)(window.innerWidth),[c,l]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=()=>s(window.innerWidth);return window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]),(0,i.useEffect)(()=>{let e=[`txt`,`doc`,`pdf`,`jpg`,`png`,`mp3`,`mp4`,`zip`,`exe`,`xls`],t=[`Documento_Importante`,`Foto_Vacanze`,`Presentazione_Progetto`,`Budget_2024`,`Lista_Spesa`,`Appunti_Riunione`,`Video_Tutorial`,`Musica_Playlist`,`Backup_Dati`,`Configurazione`,`Report_Mensile`,`Contratto_Lavoro`,`Screenshot_Schermo`,`Dati_Cliente`,`Proposta_Commerciale`],n=[`Vecchi_File`,`Backup`,`Temporanei`,`Scaricati`,`Eliminati`,`Archivio`];l((()=>{let r=[],i=Math.floor(Math.random()*8)+5;for(let a=0;a<i;a++){let i=Math.random()>.7,o=i?n[Math.floor(Math.random()*n.length)]:`${t[Math.floor(Math.random()*t.length)]}.${e[Math.floor(Math.random()*e.length)]}`,s=Math.floor(Math.random()*30)+1,c=new Date;c.setDate(c.getDate()-s);let l=i?`--`:`${(Math.random()*5e3+100).toFixed(0)} KB`,u={txt:`ðŸ“„`,doc:`ðŸ“`,pdf:`ðŸ“•`,jpg:`ðŸ–¼ï¸`,png:`ðŸ–¼ï¸`,mp3:`ðŸŽµ`,mp4:`ðŸŽ¬`,zip:`ðŸ“¦`,exe:`âš™ï¸`,xls:`ðŸ“Š`,folder:`ðŸ“`},d=o.split(`.`).pop()?.toLowerCase()||`txt`,f=i?u.folder:u[d]||`ðŸ“„`;r.push({id:a,name:o,type:i?`folder`:`file`,size:l,deletedDate:c.toLocaleDateString(`it-IT`),icon:f})}return r.sort((e,t)=>new Date(t.deletedDate).getTime()-new Date(e.deletedDate).getTime())})())},[]);let u=()=>{confirm(`Vuoi svuotare il cestino? Tutti i file verranno eliminati definitivamente.`)&&l([])},d=e=>{l(c.filter(t=>t.id!==e))},f=c.reduce((e,t)=>{if(t.size!==`--`){let n=parseFloat(t.size);return e+(isNaN(n)?0:n)}return e},0);return(0,a.jsx)(e,{title:`Cestino`,width:o<=480?Math.min(400,window.innerWidth-20):o<=768?Math.min(600,window.innerWidth-40):700,height:o<=480?Math.min(500,window.innerHeight-100):o<=768?Math.min(600,window.innerHeight-80):600,defaultPosition:{x:o<=480?10:o<=768?20:150,y:o<=480?10:o<=768?20:100},onClose:t,onMinimize:n,icon:r,children:(0,a.jsxs)(`div`,{style:{padding:o<=480?`10px`:`15px`,display:`flex`,flexDirection:`column`,height:`100%`,gap:`15px`},children:[(0,a.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,paddingBottom:`10px`,borderBottom:`1px solid #ccc`},children:[(0,a.jsxs)(`div`,{children:[(0,a.jsx)(`h2`,{style:{marginTop:0,marginBottom:`5px`,fontSize:o<=480?`16px`:`18px`},children:`Cestino`}),(0,a.jsxs)(`p`,{style:{margin:0,fontSize:o<=480?`11px`:`12px`,color:`#666`},children:[c.length,` `,c.length===1?`oggetto`:`oggetti`,` â€¢ `,(f/1024).toFixed(2),` MB`]})]}),(0,a.jsx)(`div`,{style:{display:`flex`,gap:`8px`},children:(0,a.jsx)(`button`,{onClick:u,disabled:c.length===0,children:`Svuota Cestino`})})]}),c.length===0?(0,a.jsxs)(`div`,{style:{flex:1,display:`flex`,alignItems:`center`,justifyContent:`center`,flexDirection:`column`,color:`#999`,fontSize:o<=480?`14px`:`16px`},children:[(0,a.jsx)(`div`,{style:{fontSize:o<=480?`48px`:`64px`,marginBottom:`10px`},children:`ðŸ—‘ï¸`}),(0,a.jsx)(`p`,{children:`Il cestino Ã¨ vuoto`})]}):(0,a.jsx)(`div`,{style:{flex:1,overflowY:`auto`,display:`flex`,flexDirection:`column`,gap:`4px`},children:c.map(e=>(0,a.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,padding:`8px`,background:`#f9f9f9`,border:`1px solid #e0e0e0`,borderRadius:`2px`,cursor:`pointer`,fontSize:o<=480?`12px`:`13px`},onMouseEnter:e=>{e.currentTarget.style.background=`#f0f0f0`},onMouseLeave:e=>{e.currentTarget.style.background=`#f9f9f9`},children:[(0,a.jsx)(`div`,{style:{fontSize:o<=480?`20px`:`24px`,marginRight:`10px`,width:`30px`,textAlign:`center`},children:e.icon}),(0,a.jsxs)(`div`,{style:{flex:1,minWidth:0},children:[(0,a.jsx)(`div`,{style:{fontWeight:`bold`,marginBottom:`2px`,overflow:`hidden`,textOverflow:`ellipsis`,whiteSpace:`nowrap`},children:e.name}),(0,a.jsxs)(`div`,{style:{fontSize:o<=480?`10px`:`11px`,color:`#666`},children:[`Eliminato il `,e.deletedDate,` â€¢ `,e.size]})]}),(0,a.jsx)(`button`,{onClick:t=>{t.stopPropagation(),d(e.id)},style:{padding:`4px 8px`,fontSize:o<=480?`10px`:`11px`,marginLeft:`8px`},children:`Ripristina`})]},e.id))})]})})}export{o as default};