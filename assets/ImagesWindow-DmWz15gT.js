import{a as e,c as t,n,o as r,r as i,s as a,t as o}from"./index-DBVdNEwY.js";var s=t(a(),1),c=t(r(),1),l={"../assets/sfondo/img0 (Starter).jpg":()=>o(()=>import(`./img0 (Starter)-BYSp_dbY.js`),[]),"../assets/sfondo/img0.jpg":()=>o(()=>import(`./img0-Bqz-HOLC.js`),[]),"../assets/sfondo/img1.jpg":()=>o(()=>import(`./img1-P3M_CYwi.js`),[]),"../assets/sfondo/img10.jpg":()=>o(()=>import(`./img10-BMuhP5PB.js`),[]),"../assets/sfondo/img11.jpg":()=>o(()=>import(`./img11-BM3qPPRU.js`),[]),"../assets/sfondo/img12.jpg":()=>o(()=>import(`./img12-CNg0rcu2.js`),[]),"../assets/sfondo/img13.jpg":()=>o(()=>import(`./img13-51X_t0_a.js`),[]),"../assets/sfondo/img14.jpg":()=>o(()=>import(`./img14-CDuoFY4F.js`),[]),"../assets/sfondo/img15.jpg":()=>o(()=>import(`./img15-5rJucvsd.js`),[]),"../assets/sfondo/img16.jpg":()=>o(()=>import(`./img16-BerD7IOF.js`),[]),"../assets/sfondo/img17.jpg":()=>o(()=>import(`./img17-9zI1ikk9.js`),[]),"../assets/sfondo/img18.jpg":()=>o(()=>import(`./img18-Bh_kmFZl.js`),[]),"../assets/sfondo/img19.jpg":()=>o(()=>import(`./img19-BfXOEp2F.js`),[]),"../assets/sfondo/img2.jpg":()=>o(()=>import(`./img2-DNwNB1gK.js`),[]),"../assets/sfondo/img20.jpg":()=>o(()=>import(`./img20-Bl_nvSMo.js`),[]),"../assets/sfondo/img21.jpg":()=>o(()=>import(`./img21-VCCouIfP.js`),[]),"../assets/sfondo/img22.jpg":()=>o(()=>import(`./img22-Cji7_08e.js`),[]),"../assets/sfondo/img23.jpg":()=>o(()=>import(`./img23-BZBtCzMJ.js`),[]),"../assets/sfondo/img24.jpg":()=>o(()=>import(`./img24-vNWrQsP3.js`),[]),"../assets/sfondo/img25.jpg":()=>o(()=>import(`./img25-DUUQRBLh.js`),[]),"../assets/sfondo/img26.jpg":()=>o(()=>import(`./img26-DvwconxA.js`),[]),"../assets/sfondo/img27.jpg":()=>o(()=>import(`./img27-CHn3CGXH.js`),[]),"../assets/sfondo/img28.jpg":()=>o(()=>import(`./img28-GcFmW8e3.js`),[]),"../assets/sfondo/img29.jpg":()=>o(()=>import(`./img29-Dr9PZR6i.js`),[]),"../assets/sfondo/img3.jpg":()=>o(()=>import(`./img3-Etcn3PZg.js`),[]),"../assets/sfondo/img30.jpg":()=>o(()=>import(`./img30-CpqNm6KS.js`),[]),"../assets/sfondo/img4.jpg":()=>o(()=>import(`./img4-BTLATVdu.js`),[]),"../assets/sfondo/img5.jpg":()=>o(()=>import(`./img5-Dbjq9ZpN.js`),[]),"../assets/sfondo/img6.jpg":()=>o(()=>import(`./img6-B4V4P1kg.js`),[]),"../assets/sfondo/img7.jpg":()=>o(()=>import(`./img7-CfFc3EPc.js`),[]),"../assets/sfondo/img8.jpg":()=>o(()=>import(`./img8-DDH0-D1P.js`),[]),"../assets/sfondo/img9.jpg":()=>o(()=>import(`./img9-CD-oCNkI.js`),[])};function u({onClose:t,onBackgroundChange:r,currentBackground:a,isSlideshowEnabled:o=!1,slideshowIntervalSeconds:u=5,onSlideshowChange:d,onMinimize:f,icon:p}){let[m,h]=(0,s.useState)(window.innerWidth),[g,_]=(0,s.useState)(o),[v,y]=(0,s.useState)(u),[b,x]=(0,s.useState)({});(0,s.useEffect)(()=>{let e=()=>h(window.innerWidth);return window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]);let[S,C]=(0,s.useState)([{name:`Sfondo Default`,url:n}]);(0,s.useEffect)(()=>{Object.entries(l).map(([e,t])=>{let n=e.split(`/`).pop()?.replace(`.jpg`,``)||``,r=n.match(/\d+/);return{path:e,loader:t,name:n,num:r?parseInt(r[0]):999}}).filter(e=>!e.name.toLowerCase().includes(`starter`)).sort((e,t)=>e.num===t.num?e.name.localeCompare(t.name):e.num-t.num).slice(0,5).forEach(async e=>{try{let t=await e.loader();C(n=>n.find(t=>t.name===`Sfondo ${e.name}`)?n:[...n,{name:`Sfondo ${e.name}`,url:t.default}])}catch(t){console.warn(`Failed to load background: ${e.path}`,t)}})},[]),(0,s.useEffect)(()=>{let e=setTimeout(async()=>{let e=Object.entries(l).map(([e,t])=>{let n=e.split(`/`).pop()?.replace(`.jpg`,``)||``,r=n.match(/\d+/);return{path:e,loader:t,name:n,num:r?parseInt(r[0]):999}}).filter(e=>!e.name.toLowerCase().includes(`starter`)).sort((e,t)=>e.num===t.num?e.name.localeCompare(t.name):e.num-t.num);for(let t of e.slice(5))try{let e=await t.loader();C(n=>n.find(e=>e.name===`Sfondo ${t.name}`)?n:[...n,{name:`Sfondo ${t.name}`,url:e.default}])}catch(e){console.warn(`Failed to load background: ${t.path}`,e)}},1e3);return()=>clearTimeout(e)},[]);let[w,T]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let e=S.findIndex(e=>e.url===a);e>=0&&T(e)},[a,S]),(0,s.useEffect)(()=>{_(o),y(u)},[o,u]),(0,c.jsx)(e,{title:`Immagini - Cambio Sfondo`,width:700,height:500,defaultPosition:{x:150,y:100},onClose:t,onMinimize:f,icon:p,children:(0,c.jsxs)(`div`,{style:{padding:m<=480?`15px`:`20px`},children:[(0,c.jsx)(`h2`,{style:{marginTop:0,fontSize:m<=480?`16px`:`18px`,marginBottom:m<=480?`15px`:`20px`},children:`Scegli uno sfondo`}),(0,c.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:m<=480?`repeat(2, 1fr)`:m<=768?`repeat(3, 1fr)`:`repeat(auto-fill, minmax(150px, 1fr))`,gap:m<=480?`10px`:`16px`,marginBottom:m<=480?`15px`:`20px`},children:S.map((e,t)=>(0,c.jsxs)(`div`,{onClick:()=>T(t),style:{aspectRatio:`4/3`,background:e.url.startsWith(`linear-gradient`)?e.url:`url(${e.url})`,backgroundSize:`cover`,backgroundPosition:`center`,border:w===t?`3px solid #0078d4`:`2px solid #c0c0c0`,cursor:`pointer`,position:`relative`,transition:`all 0.2s`,overflow:`hidden`},onMouseEnter:e=>{w!==t&&(e.currentTarget.style.borderColor=`#0078d4`)},onMouseLeave:e=>{w!==t&&(e.currentTarget.style.borderColor=`#c0c0c0`)},children:[b[e.url]&&!e.url.startsWith(`linear-gradient`)&&(0,c.jsx)(`div`,{style:{position:`absolute`,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`,zIndex:1},children:(0,c.jsx)(i,{size:32})}),(0,c.jsx)(`img`,{src:e.url.startsWith(`linear-gradient`)?void 0:e.url,alt:e.name,loading:`lazy`,style:{width:`100%`,height:`100%`,objectFit:`cover`,display:e.url.startsWith(`linear-gradient`)||b[e.url]?`none`:`block`},onLoadStart:()=>{e.url.startsWith(`linear-gradient`)||x(t=>({...t,[e.url]:!0}))},onLoad:()=>{e.url.startsWith(`linear-gradient`)||x(t=>({...t,[e.url]:!1}))},onError:()=>{e.url.startsWith(`linear-gradient`)||x(t=>({...t,[e.url]:!1}))}}),(0,c.jsx)(`div`,{style:{position:`absolute`,bottom:0,left:0,right:0,background:`rgba(0, 0, 0, 0.6)`,color:`#fff`,padding:m<=480?`4px`:`6px`,fontSize:m<=480?`10px`:`11px`,textAlign:`center`},children:e.name}),w===t&&(0,c.jsx)(`div`,{style:{position:`absolute`,top:m<=480?`6px`:`8px`,right:m<=480?`6px`:`8px`,background:`#0078d4`,borderRadius:`50%`,width:m<=480?`20px`:`24px`,height:m<=480?`20px`:`24px`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#fff`},children:(0,c.jsx)(`i`,{className:`fas fa-check`,style:{fontSize:m<=480?`10px`:`12px`}})})]},t))}),(0,c.jsxs)(`div`,{style:{marginBottom:m<=480?`15px`:`20px`,padding:m<=480?`12px`:`16px`,background:`#f5f5f5`,borderRadius:`4px`,border:`1px solid #ddd`},children:[(0,c.jsx)(`h3`,{style:{marginTop:0,marginBottom:m<=480?`12px`:`16px`,fontSize:m<=480?`14px`:`16px`},children:`Slideshow Sfondi`}),(0,c.jsxs)(`div`,{style:{marginBottom:m<=480?`10px`:`12px`,display:`flex`,alignItems:`center`,gap:`10px`},children:[(0,c.jsx)(`input`,{type:`checkbox`,id:`slideshow-enabled`,checked:g,onChange:e=>_(e.target.checked),style:{width:`18px`,height:`18px`,cursor:`pointer`}}),(0,c.jsx)(`label`,{htmlFor:`slideshow-enabled`,style:{fontSize:m<=480?`12px`:`13px`,cursor:`pointer`},children:`Attiva slideshow automatico`})]}),g&&(0,c.jsxs)(`div`,{style:{marginTop:m<=480?`10px`:`12px`},children:[(0,c.jsxs)(`label`,{htmlFor:`slideshow-seconds`,style:{display:`block`,marginBottom:`6px`,fontSize:m<=480?`12px`:`13px`},children:[`Secondi tra le immagini: `,v]}),(0,c.jsx)(`input`,{type:`range`,id:`slideshow-seconds`,min:`2`,max:`30`,value:v,onChange:e=>y(parseInt(e.target.value)),style:{width:`100%`,cursor:`pointer`}}),(0,c.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,fontSize:m<=480?`10px`:`11px`,color:`#666`,marginTop:`4px`},children:[(0,c.jsx)(`span`,{children:`2s`}),(0,c.jsx)(`span`,{children:`30s`})]})]})]}),(0,c.jsxs)(`div`,{style:{display:`flex`,gap:m<=480?`8px`:`12px`,justifyContent:`flex-end`,flexWrap:`wrap`},children:[(0,c.jsx)(`button`,{onClick:t,style:{fontSize:m<=480?`12px`:`14px`,padding:m<=480?`8px 16px`:`10px 20px`},children:`Annulla`}),(0,c.jsx)(`button`,{onClick:()=>{w>=0&&w<S.length&&r(S[w].url),d&&d(g,v),t()},style:{fontSize:m<=480?`12px`:`14px`,padding:m<=480?`8px 16px`:`10px 20px`},children:`Applica`})]})]})})}export{u as default};