import{a as e,c as t,o as n,s as r}from"./index-grgPxBGB.js";var i=t(r(),1),a=t(n(),1);function o({onClose:t,onMinimize:n,icon:r}){let[o,s]=(0,i.useState)(window.innerWidth),[c,l]=(0,i.useState)(new Date),[u,d]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=()=>s(window.innerWidth);return window.addEventListener(`resize`,e),()=>window.removeEventListener(`resize`,e)},[]);let f=[`Gennaio`,`Febbraio`,`Marzo`,`Aprile`,`Maggio`,`Giugno`,`Luglio`,`Agosto`,`Settembre`,`Ottobre`,`Novembre`,`Dicembre`],p=[`Dom`,`Lun`,`Mar`,`Mer`,`Gio`,`Ven`,`Sab`],m=e=>new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),h=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),g=()=>{l(new Date(c.getFullYear(),c.getMonth()-1,1))},_=()=>{l(new Date(c.getFullYear(),c.getMonth()+1,1))},v=()=>{l(new Date),d(new Date)},y=e=>{d(new Date(c.getFullYear(),c.getMonth(),e))},b=e=>{let t=new Date;return e===t.getDate()&&c.getMonth()===t.getMonth()&&c.getFullYear()===t.getFullYear()},x=e=>u?e===u.getDate()&&c.getMonth()===u.getMonth()&&c.getFullYear()===u.getFullYear():!1,S=m(c),C=h(c),w=[];for(let e=0;e<C;e++)w.push(null);for(let e=1;e<=S;e++)w.push(e);return(0,a.jsx)(e,{title:`Calendario`,width:o<=480?Math.min(350,window.innerWidth-20):o<=768?Math.min(500,window.innerWidth-40):600,height:o<=480?Math.min(450,window.innerHeight-100):o<=768?Math.min(550,window.innerHeight-80):550,defaultPosition:{x:o<=480?10:o<=768?20:200,y:o<=480?10:o<=768?20:100},onClose:t,onMinimize:n,icon:r,children:(0,a.jsxs)(`div`,{style:{padding:o<=480?`10px`:`15px`,display:`flex`,flexDirection:`column`,height:`100%`,gap:`15px`},children:[(0,a.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,paddingBottom:`10px`,borderBottom:`1px solid #ccc`},children:[(0,a.jsx)(`button`,{onClick:g,style:{padding:`6px 12px`},children:`←`}),(0,a.jsx)(`div`,{style:{textAlign:`center`},children:(0,a.jsxs)(`h2`,{style:{margin:0,fontSize:o<=480?`16px`:`18px`},children:[f[c.getMonth()],` `,c.getFullYear()]})}),(0,a.jsx)(`button`,{onClick:_,style:{padding:`6px 12px`},children:`→`})]}),(0,a.jsx)(`button`,{onClick:v,style:{alignSelf:`center`,padding:`6px 16px`},children:`Oggi`}),(0,a.jsxs)(`div`,{style:{flex:1,display:`flex`,flexDirection:`column`},children:[(0,a.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(7, 1fr)`,gap:`4px`,marginBottom:`8px`},children:p.map(e=>(0,a.jsx)(`div`,{style:{textAlign:`center`,fontWeight:`bold`,fontSize:o<=480?`10px`:`11px`,color:`#666`,padding:`4px`},children:e},e))}),(0,a.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(7, 1fr)`,gap:`4px`,flex:1},children:w.map((e,t)=>(0,a.jsx)(`div`,{onClick:()=>e!==null&&y(e),style:{aspectRatio:`1`,display:`flex`,alignItems:`center`,justifyContent:`center`,background:e===null?`transparent`:x(e)?`#4a90e2`:b(e)?`#e8f4f8`:`#f9f9f9`,border:e!==null&&b(e)?`2px solid #4a90e2`:e!==null&&x(e)?`2px solid #357abd`:`1px solid #e0e0e0`,borderRadius:`4px`,cursor:e===null?`default`:`pointer`,fontSize:o<=480?`12px`:`14px`,fontWeight:b(e)||x(e)?`bold`:`normal`,color:e!==null&&x(e)?`#fff`:b(e)?`#4a90e2`:`#333`,transition:`all 0.2s`},onMouseEnter:t=>{e!==null&&!x(e)&&!b(e)&&(t.currentTarget.style.background=`#f0f0f0`)},onMouseLeave:t=>{e!==null&&!x(e)&&!b(e)&&(t.currentTarget.style.background=`#f9f9f9`)},children:e},t))})]}),u&&(0,a.jsxs)(`div`,{style:{padding:`10px`,background:`#f0f0f0`,borderRadius:`4px`,fontSize:o<=480?`11px`:`12px`,textAlign:`center`},children:[(0,a.jsx)(`strong`,{children:`Data selezionata:`}),` `,u.toLocaleDateString(`it-IT`,{weekday:`long`,year:`numeric`,month:`long`,day:`numeric`})]})]})})}export{o as default};